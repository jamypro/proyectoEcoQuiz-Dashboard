<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Panel · EcoQuiz</title>
        <meta
            name="description"
            content="Panel de administración de EcoQuiz - usuarios y resultados en tiempo real"
        />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="wrap">
            <!-- LOGIN -->
            <div id="viewLogin" class="login-center">
                <div class="login-box card">
                    <div class="brand">
                        <div class="dot">EQ</div>
                        <div>
                            <h1>EcoQuiz · Panel</h1>
                            <p class="lead">
                                Acceso exclusivo para la profesora
                            </p>
                        </div>
                    </div>

                    <div>
                        <label class="small">Usuario</label>
                        <div class="field">
                            <input
                                id="inpUser"
                                type="text"
                                placeholder="usuario"
                            />
                        </div>
                    </div>
                    <div>
                        <label class="small">Contraseña</label>
                        <div class="field">
                            <input
                                id="inpPass"
                                type="password"
                                placeholder="contraseña"
                            />
                        </div>
                    </div>
                    <div class="err" id="errLogin">
                        Usuario o contraseña incorrectos
                    </div>
                    <div
                        style="
                            margin-top: 12px;
                            display: flex;
                            justify-content: center;
                        "
                    >
                        <button id="btnLogin" class="btn">Entrar</button>
                    </div>
                </div>
            </div>

            <!-- DASHBOARD -->
            <div id="viewDashboard" style="display: none">
                <div class="topbar">
                    <div>
                        <h2 style="margin: 0">Panel · EcoQuiz</h2>
                        <div class="small">Conexión en tiempo real</div>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center">
                        <input
                            id="q"
                            class="search"
                            placeholder="buscar por nombre..."
                        />
                        <button id="btnLogout" class="btn-ghost">
                            Cerrar sesión
                        </button>
                    </div>
                </div>

                <div class="tabs" role="tablist">
                    <div class="tab active" data-tab="usuarios">
                        Usuarios registrados
                    </div>
                    <div class="tab" data-tab="resultados">Resultados</div>
                </div>

                <div id="panelUsuarios" class="card" style="margin-top: 18px">
                    <h3>Usuarios registrados</h3>
                    <p class="small">Actualizacion en tiempo real.</p>
                    <div style="overflow: auto; margin-top: 12px">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Fecha/Hora</th>
                                </tr>
                            </thead>
                            <tbody id="tblUsuarios"></tbody>
                        </table>
                    </div>
                </div>

                <div
                    id="panelResultados"
                    class="card"
                    style="display: none; margin-top: 18px"
                >
                    <h3>Resultados</h3>
                    <p class="small">Actualizacion en tiempo real.</p>
                    <div style="overflow: auto; margin-top: 12px">
                        <table>
                            <thead>
                                <tr>
                                    <th>Jugador</th>
                                    <th>Puntaje</th>
                                    <th>Notal(0-5)</th>
                                    <th>Tiempo</th>
                                    <th>Aciertos</th>
                                    <th>Fallos</th>
                                    <th>Fecha</th>
                                    <th>Detalle</th>
                                </tr>
                            </thead>
                            <tbody id="tblResultados"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal detalle -->
        <div id="modal" class="modal" aria-hidden="true">
            <div class="panel card">
                <div
                    style="
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    "
                >
                    <h3>Detalle de la partida</h3>
                    <div>
                        <button id="closeModal" class="btn-ghost">
                            Cerrar
                        </button>
                    </div>
                </div>
                <div
                    id="modalBody"
                    style="margin-top: 12px; max-height: 60vh; overflow: auto"
                ></div>
            </div>
        </div>

        <script type="module" src="./script.js"></script>
    </body>
</html>
